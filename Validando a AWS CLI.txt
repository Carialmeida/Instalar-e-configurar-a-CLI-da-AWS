## ‚öôÔ∏è Validando a AWS CLI

Verifique se a CLI est√° instalada corretamente:

```bash
aws --version
Sa√≠da esperada:

bash
Copiar c√≥digo
aws-cli/2.x Python/3.x Linux/...
üß† Desafio: Baixar o JSON da Pol√≠tica lab_policy
O objetivo √© baixar o documento da pol√≠tica IAM lab_policy sem usar o Console da AWS.

üîπ Passo a passo
1Ô∏è‚É£ Listar pol√≠ticas locais:

bash
Copiar c√≥digo
aws iam list-policies --scope Local
2Ô∏è‚É£ Copiar o ARN da pol√≠tica lab_policy.

3Ô∏è‚É£ Obter a vers√£o padr√£o:

bash
Copiar c√≥digo
aws iam get-policy --policy-arn <ARN>
4Ô∏è‚É£ Baixar o documento JSON:

bash
Copiar c√≥digo
aws iam get-policy-version \
  --policy-arn <ARN> \
  --version-id <VERSAO> \
  --query "PolicyVersion.Document" \
  --output json > lab_policy.json
5Ô∏è‚É£ Verificar o conte√∫do:

bash
Copiar c√≥digo
cat lab_policy.json
‚ö° Script Automatizado (opcional)
Crie um arquivo chamado get_lab_policy.sh dentro da pasta scripts/ e adicione:

bash
Copiar c√≥digo
#!/usr/bin/env bash
set -euo pipefail

echo "üîé Buscando ARN da pol√≠tica 'lab_policy'..."
POLICY_ARN=$(aws iam list-policies --scope Local \
  --query "Policies[?PolicyName=='lab_policy'].Arn" --output text)

if [[ -z "${POLICY_ARN}" || "${POLICY_ARN}" == "None" ]]; then
  echo "‚ùå Pol√≠tica 'lab_policy' n√£o encontrada."
  exit 1
fi
echo "‚úÖ POLICY_ARN: $POLICY_ARN"

VERSION_ID=$(aws iam get-policy --policy-arn "$POLICY_ARN" \
  --query "Policy.DefaultVersionId" --output text)
echo "‚úÖ VERSION_ID: $VERSION_ID"

aws iam get-policy-version --policy-arn "$POLICY_ARN" --version-id "$VERSION_ID" \
  --query "PolicyVersion.Document" --output json > lab_policy.json

echo "üìÑ Salvo em $(pwd)/lab_policy.json"
Execute com:

bash
Copiar c√≥digo
bash scripts/get_lab_policy.sh